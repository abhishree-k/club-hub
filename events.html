<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events | DSCE Clubs</title>
    <link rel="stylesheet" href="style.css?v=1.1">
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script type="text/javascript" src="darkmode.js?v=1.1" defer></script>
</head>

<body>
    <div class="stars-background"></div>

    <nav class="cosmic-nav">
        <div class="nav-logo">
            <span class="logo-icon">üåå</span>
            <span class="logo-text">DSCE Clubs</span>
        </div>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="events.html" class="active">Live & upcoming Events</a></li>
            <li><a href="past-events.html">Past Events</a></li>
            <li><a href="registration.html">Registration</a></li>
            <li id="nav-my-hub" class="hidden"><a href="my-hub.html">My Hub</a></li>
            <li><a href="admin-login.html">Admin</a></li>
            <li id="nav-login"><a href="registration.html#student-login">Login</a></li>
            <li id="nav-logout" class="hidden"><a href="#" id="student-logout-btn">Logout</a></li>
        </ul>
        <div class="nav-hamburger">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
        </div>
    </nav>

    <header class="events-hero">
        <div class="hero-content">
            <h1 class="hero-title">Upcoming <span class="text-gradient">Events</span></h1>
            <p class="hero-subtitle">Discover, participate, and create memories</p>
        </div>
    </header>

    <main class="events-main">
        <!-- üîç Event Search -->
        <div style="text-align:center; margin: 20px 0;">
            <div class="search-container">
                <input type="text" id="eventSearch" placeholder="Search events or clubs..." class="search-input">
                <button type="button" id="search-btn" class="search-btn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>

        <section class="calendar-section">
            <div class="calendar-controls">
                <button id="prev-month" class="calendar-nav"><i class="fas fa-chevron-left"></i></button>
                <h2 id="current-month" class="section-title">January 2026</h2>
                <button id="next-month" class="calendar-nav"><i class="fas fa-chevron-right"></i></button>
            </div>

            <div class="calendar-jump-picker">
                <label for="month-picker">Jump to Month:</label>
                <select id="month-picker">
                    <option value="0">January</option>
                    <option value="1">February</option>
                    <option value="2">March</option>
                    <option value="3">April</option>
                    <option value="4">May</option>
                    <option value="5">June</option>
                    <option value="6">July</option>
                    <option value="7">August</option>
                    <option value="8">September</option>
                    <option value="9">October</option>
                    <option value="10">November</option>
                    <option value="11">December</option>
                </select>

                <label for="year-picker">Year:</label>
                <select id="year-picker">
                    <!-- Years will be populated by JavaScript -->
                </select>

                <button id="jump-to-date" class="calendar-jump-btn"><i class="fas fa-arrow-right"></i> Jump</button>
                <button id="today-btn" class="calendar-jump-btn today"><i class="fas fa-calendar-day"></i>
                    Today</button>
            </div>

            <div class="calendar-grid" id="calendar-grid">
                <div class="calendar-header">Sun</div>
                <div class="calendar-header">Mon</div>
                <div class="calendar-header">Tue</div>
                <div class="calendar-header">Wed</div>
                <div class="calendar-header">Thu</div>
                <div class="calendar-header">Fri</div>
                <div class="calendar-header">Sat</div>
            </div>

            <div class="calendar-legend">
                <div class="legend-item">
                    <span class="legend-color tech"></span>
                    <span>Tech Society - POINT BLANK</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color arts"></span>
                    <span>Creative Arts - AALEKA</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color debate"></span>
                    <span>Debate Club - LITSOC</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color music"></span>
                    <span>Music Society</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color sports"></span>
                    <span>Sports Club</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color science"></span>
                    <span>Dance Club - ABCD</span>
                </div>
            </div>
        </section>

        <section class="event-details-section">
            <h2 class="section-title">Event <span class="text-gradient">Details</span></h2>
            <div id="event-details-container">
                <div class="no-event-selected">
                    <i class="fas fa-calendar-alt"></i>
                    <p>Select an event from the calendar to view details</p>
                </div>
            </div>
        </section>

        <section class="event-actions">
            <a href="past-events.html" class="action-button">
                <i class="fas fa-history"></i>
                <span>Past Events</span>
            </a>
            </a>
            <a href="#" class="action-button" id="open-feedback">
                <i class="fas fa-comment-alt"></i>
                <span>Event Feedback</span>
            </a>
        </section>
        <!-- ================= Event Feedback Modal ================= -->
        <div id="feedback-modal" style="
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.7);
    z-index:9999;
    align-items:center;
    justify-content:center;
">
            <div style="
        background:#0f172a;
        padding:25px;
        width:420px;
        border-radius:14px;
        color:#fff;
    ">
                <span id="close-feedback" style="float:right;cursor:pointer;font-size:20px">&times;</span>

                <h2 style="text-align:center;margin-bottom:15px;">üí¨ Event Feedback</h2>

                <form id="event-feedback-form">
                    <label>Your Name</label>
                    <input type="text" id="event-feedback-name" required
                        style="width:100%;padding:8px;margin:6px 0;background: rgba(108, 92, 231, 0.1);border:1px solid rgba(108, 92, 231, 0.3);color:white;border-radius:6px">

                    <label>Event Name</label>
                    <input type="text" id="event-feedback-event" required
                        style="width:100%;padding:8px;margin:6px 0;background: rgba(108, 92, 231, 0.1);border:1px solid rgba(108, 92, 231, 0.3);color:white;border-radius:6px">

                    <label>Rating</label>
                    <select id="event-feedback-rating" required
                        style="width:100%;padding:8px;margin:6px 0;background: rgba(108, 92, 231, 0.1);border:1px solid rgba(108, 92, 231, 0.3);color:white;border-radius:6px">
                        <option value="">Select</option>
                        <option>‚≠ê Excellent</option>
                        <option>üòä Good</option>
                        <option>üòê Average</option>
                        <option>üòï Poor</option>
                    </select>

                    <label>Feedback</label>
                    <textarea id="event-feedback-message" required
                        style="width:100%;height:80px;padding:8px;background: rgba(108, 92, 231, 0.1);border:1px solid rgba(108, 92, 231, 0.3);color:white;border-radius:6px"></textarea>

                    <button type="submit" style="
                margin-top:12px;
                width:100%;
                padding:10px;
                background: linear-gradient(135deg, #6c5ce7, #fd79a8);
                border:none;
                border-radius:8px;
                color:white;
                cursor:pointer;
            ">Submit</button>
                    <div id="event-feedback-response" style="margin-top: 10px; text-align: center; font-size: 0.9rem;">
                    </div>
                </form>
            </div>
        </div>
        <!-- scroll top button -->
        <button id="scrollTopBtn" title="Back to Top" style="opacity: 0.5">
            <i class="fas fa-chevron-up"></i>
        </button>
    </main>

    <footer class="cosmic-footer">
        <!-- Same footer as index.html -->
    </footer>

    <!-- Event Modal (hidden by default) -->
    <div id="event-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 id="modal-title">Add New Event</h2>
            <form id="event-form">
                <div class="form-group">
                    <label for="event-name">Event Name</label>
                    <input type="text" id="event-name" required>
                </div>
                <div class="form-group">
                    <label for="event-club">Club</label>
                    <select id="event-club" required>
                        <option value="">Select Club</option>
                        <option value="tech">Tech Society</option>
                        <option value="arts">Creative Arts</option>
                        <option value="debate">Debate Club</option>
                        <option value="music">Music Society</option>
                        <option value="sports">Sports Club</option>
                        <option value="science">Dance Club</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="event-start-date">Start Date</label>
                    <input type="date" id="event-start-date" required>
                </div>
                <div class="form-group">
                    <label for="event-end-date">End Date</label>
                    <input type="date" id="event-end-date" required>
                </div>
                <div class="form-group">
                    <label for="event-start-time">Start Time</label>
                    <input type="time" id="event-start-time" required>
                </div>
                <div class="form-group">
                    <label for="event-end-time">End Time</label>
                    <input type="time" id="event-end-time" required>
                </div>
                <div class="form-group">
                    <label for="event-location">Location</label>
                    <input type="text" id="event-location" required>
                </div>
                <div class="form-group">
                    <label for="event-description">Description</label>
                    <textarea id="event-description" rows="4" required></textarea>
                </div>
                <div class="form-actions">
                    <button type="submit" id="save-event" class="modal-button">Save Event</button>
                    <button type="button" id="delete-event" class="modal-button danger">Delete Event</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Conflict Modal -->
    <div id="conflict-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>‚ö†Ô∏è Event Conflict Detected</h2>
            <div id="conflict-details"></div>
            <div id="alternative-suggestions"></div>
            <div class="conflict-actions">
                <button id="cancel-registration" class="modal-button">Cancel</button>
                <button id="force-register" class="modal-button danger">Register Anyway</button>
                <button id="choose-alternative" class="modal-button" style="display:none;">Choose Alternative</button>
            </div>
        </div>
    </div>

    <footer class="cosmic-footer">
        <div class="footer-content">
            <div class="footer-logo">
                <span class="logo-icon">üåå</span>
                <span class="logo-text">DSCE Clubs</span>
            </div>
            <div class="footer-links">
                <div class="footer-column">
                    <h4>Explore</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="events.html">Events</a></li>
                        <li><a href="past-events.html">Past Events</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Get Involved</h4>
                    <ul>
                        <li><a href="registration.html">Register</a></li>
                        <li><a href="#">Volunteer</a></li>
                        <li><a href="#">Start a Club</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Connect</h4>
                    <ul>
                        <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
                        <li><a href="#"><i class="fa-brands fa-x-twitter"></i> Twitter</a></li>
                        <li><a href="#"><i class='fab fa-discord'></i> Discord</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; <span id="year"></span> DSCE Clubs. All rights reserved.</p>
        </div>
    </footer>

    <script>
        const openFeedback = document.getElementById("open-feedback");
        const feedbackModal = document.getElementById("feedback-modal");
        const closeFeedback = document.getElementById("close-feedback");

        openFeedback.onclick = () => feedbackModal.style.display = "flex";
        closeFeedback.onclick = () => feedbackModal.style.display = "none";
    </script>
    <script src="app.js?v=1.1"></script>
    <script src="scroll.js?v=1.1"></script>
    <script>
        document.getElementById("eventSearch").addEventListener("keyup", function () {
            const searchValue = this.value.toLowerCase();
            const events = document.querySelectorAll(".event-card");

            events.forEach(event => {
                const eventText = event.innerText.toLowerCase();

                if (eventText.includes(searchValue)) {
                    event.style.display = "block";
                } else {
                    event.style.display = "none";
                }
            });
        });

        const events = [
            { date: '2026-01-05', title: 'Hackathon', type: 'tech' },
            { date: '2026-01-10', title: 'Art Exhibition', type: 'arts' },
            { date: '2026-01-15', title: 'Debate Competition', type: 'debate' },
            { date: '2026-01-20', title: 'Music Fest', type: 'music' },
            { date: '2026-01-25', title: 'Sports Day', type: 'sports' },
            { date: '2026-01-28', title: 'Dance Workshop', type: 'science' },
            { date: '2026-02-08', title: 'Tech Talk', type: 'tech' },
            { date: '2026-02-14', title: 'Valentine Concert', type: 'music' },
        ];

        let currentDate = new Date();
        const monthNames = ["January", "February", "March", "April", "May", "June",
            "July", "August", "September", "October", "November", "December"];

        function populateYearPicker() {
            const yearPicker = document.getElementById('year-picker');
            const currentYear = new Date().getFullYear();

            yearPicker.innerHTML = '';

            for (let year = 2020; year <= 2035; year++) {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year;
                if (year === currentYear) {
                    option.selected = true;
                }
                yearPicker.appendChild(option);
            }
        }

        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();

            document.getElementById('current-month').textContent = `${monthNames[month]} ${year}`;

            document.getElementById('month-picker').value = month;
            document.getElementById('year-picker').value = year;

            const calendarGrid = document.getElementById('calendar-grid');
            const headers = calendarGrid.querySelectorAll('.calendar-header');
            calendarGrid.innerHTML = '';
            headers.forEach(header => calendarGrid.appendChild(header));

            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const daysInPrevMonth = new Date(year, month, 0).getDate();

            for (let i = firstDay - 1; i >= 0; i--) {
                const day = daysInPrevMonth - i;
                const dayElement = createDayElement(day, true);
                calendarGrid.appendChild(dayElement);
            }

            const today = new Date();
            for (let day = 1; day <= daysInMonth; day++) {
                const isToday = day === today.getDate() &&
                    month === today.getMonth() &&
                    year === today.getFullYear();
                const dayElement = createDayElement(day, false, isToday);
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const dayEvents = events.filter(e => e.date === dateStr);

                dayEvents.forEach(event => {
                    const eventDiv = document.createElement('div');
                    eventDiv.className = `event-indicator ${event.type}`;
                    eventDiv.textContent = event.title;
                    eventDiv.title = event.title;
                    dayElement.appendChild(eventDiv);
                });

                calendarGrid.appendChild(dayElement);
            }

            const remainingCells = 42 - (firstDay + daysInMonth);
            for (let day = 1; day <= remainingCells; day++) {
                const dayElement = createDayElement(day, true);
                calendarGrid.appendChild(dayElement);
            }
        }

        function createDayElement(day, isOtherMonth, isToday = false) {
            const dayElement = document.createElement('div');
            dayElement.className = 'calendar-day';
            if (isOtherMonth) dayElement.classList.add('other-month');
            if (isToday) dayElement.classList.add('today');

            const dayNumber = document.createElement('div');
            dayNumber.className = 'day-number';
            dayNumber.textContent = day;
            dayElement.appendChild(dayNumber);

            return dayElement;
        }

        document.getElementById('prev-month').addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        });

        document.getElementById('next-month').addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        });

        document.getElementById('jump-to-date').addEventListener('click', () => {
            const month = parseInt(document.getElementById('month-picker').value);
            const year = parseInt(document.getElementById('year-picker').value);
            currentDate = new Date(year, month, 1);
            renderCalendar();
        });

        document.getElementById('today-btn').addEventListener('click', () => {
            currentDate = new Date();
            renderCalendar();
        });

        populateYearPicker();
        renderCalendar();

    </script>

</body>

</html>